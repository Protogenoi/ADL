{% extends 'base.html.twig' %}

{% block body %}

    {{ parent() }}

    <br>

    <div class="container">
        <div class="card text-center">
            <div class="card-header">

                <ul class="nav nav-pills mb-3 nav-justified card-header-tabs" id="pills-tab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab"
                           aria-controls="pills-home" aria-selected="true">Client</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-timeline" role="tab"
                           aria-controls="pills-timeline" aria-selected="false">Timeline</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-uploads" role="tab"
                           aria-controls="pills-uploads" aria-selected="false">Files & Uploads</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-financials"
                           role="tab" aria-controls="pills-financials" aria-selected="false">Financials</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-tracking" role="tab"
                           aria-controls="pills-tracking" aria-selected="false">Tracking</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                           aria-haspopup="true" aria-expanded="false">Add Policy</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#">Aegon</a>
                            <a class="dropdown-item" href="#">Legal and General</a>
                            <a class="dropdown-item" href="#">Aviva</a>
                            <a class="dropdown-item" href="#">Liverpool Victoria</a>
                            <a class="dropdown-item" href="#">Vitality</a>
                            <a class="dropdown-item" href="#">Royal London</a>
                            <a class="dropdown-item" href="#">One Family</a>
                            <a class="dropdown-item" href="#">Zurich</a>
                            <a class="dropdown-item" href="#">Scottish Widows</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                           aria-haspopup="true" aria-expanded="false">Settings</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#"><i class="far fa-edit"></i> Edit Client</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#"><i class="far fa-trash-alt"></i> Delete Client</a>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card-body tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="row">

                        <div class="col-sm">

                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-user"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.title }} {{ client.firstName }} {{ client.lastName }}"
                                       readonly>
                            </div>

                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-calendar-alt"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.dob| date('Y-m-d') }}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary" data-toggle="modal" data-target="#emailModal"><i class="fas fa-envelope"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text" value="{{ client.email }}"
                                       readonly>
                            </div>

                        </div>

                        <div class="col-sm">

                            {% if(client.title2) %}

                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <button class="input-group btn btn-primary"><i class="fas fa-user"></i></button>
                                    </div>
                                    <input class="form-control form-control-sm" type="text"
                                           value="{{ client.title2 }} {{ client.firstName2 }} {{ client.lastName2 }}"
                                           readonly>
                                </div>
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <button class="input-group btn btn-primary"><i class="fas fa-calendar-alt"></i></button>
                                    </div>
                                    <input class="form-control form-control-sm" type="text"
                                           value="{{ client.dob2| date('Y-m-d') }}" readonly>
                                </div>
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <button class="input-group btn btn-secondary"><i class="fas fa-envelope"></i></button>
                                    </div>
                                    <input class="form-control form-control-sm" type="text"
                                           value="{{ client.email2 }}" readonly>
                                </div>
                            {% endif %}

                        </div>

                        <div class="col-sm">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary" data-toggle="modal" data-target="#phoneNumberModal"><i class="fas fa-phone"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.phoneNumber }}" readonly>
                            </div>

                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-secondary"><i class="fas fa-phone"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.altNumber }}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-home"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.address1 }}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-list"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.address2 }}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-list"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.address3 }}" readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-list"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text" value="{{ client.town }}"
                                       readonly>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <button class="input-group btn btn-primary"><i class="fas fa-search"></i></button>
                                </div>
                                <input class="form-control form-control-sm" type="text"
                                       value="{{ client.postcode }}" readonly>
                            </div>
                        </div>

                    </div>
                    <br>
                    <div class="row">
                        <div class="btn-group mx-auto" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-outline-primary"><i class="fas fa-file-pdf"></i> Policy Keyfacts</button>
                            <button type="button" class="btn btn-outline-secondary"><i class="fas fa-file-pdf"></i> Policy App</button>
                            <button type="button" class="btn btn-outline-success"><i class="fas fa-file"></i> Dealsheet</button>
                            <button type="button" class="btn btn-outline-danger"><i class="fas fa-headphones"></i> Closer Recording</button>
                            <button type="button" class="btn btn-outline-warning"><i class="fas fa-headphones"></i> Agent Recording</button>
                            <button type="button" class="btn btn-outline-info"><i class="fas fa-link"></i> Insurer portal</button>
                            <button type="button" class="btn btn-outline-dark">Dark</button>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <table class="table table-hover table-sm">
                            <thead class="thead-light">
                            <th>Client</th>
                            <th>Policy</th>
                            <th>Type</th>
                            <th>Comm Type</th>
                            <th>Term</th>
                            <th>Premium</th>
                            <th>Cover</th>
                            <th>Status</th>
                            </thead>
                            <tbody>
                            {% for policy in policies %}
                                <tr>
                                    <td>{{ policy.commission }}</td>
                                    <td><a href="#"</a>
                                        {{ policy.reference }}</td>
                                    <td>{{ policy.type }}</td>
                                    <td>{{ policy.commType }}</td>
                                    <td>{{ policy.term }}</td>
                                    <td>{{ policy.premium }}</td>
                                    <td>{{ policy.coverAmount }}</td>
                                    <td></td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="8" class="text-center">No Policies found</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div class="row">
                        <table class="table table-hover table-sm">
                            <thead class="thead-light">
                            <th>Insurer</th>
                            <th>Policy</th>
                            <th>Client</th>
                            <th>Status</th>
                            </thead>
                            <tbody>
                            {% for all in allpolicies %}

                                <tr>
                                    <td>{{ all.insurer }}</td>
                                    <td><a href="#"</a>
                                        {{ all.reference }}</td>
                                    <td>{{ all.policyHolder }}</td>
                                    <td>{{ all.status }}</td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="5" class="text-center">No Policies found</td>
                                </tr>


                            {% endfor %}

                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="tab-pane fade" id="pills-timeline" role="tabpanel" aria-labelledby="pills-timeline-tab">
                    Timeline
                </div>
                <div class="tab-pane fade" id="pills-uploads" role="tabpanel" aria-labelledby="pills-uploads-tab">Files
                    and Uploads
                </div>
                <div class="tab-pane fade" id="pills-financials" role="tabpanel" aria-labelledby="pills-financials-tab">
                    Financials
                </div>
                <div class="tab-pane fade" id="pills-tracking" role="tabpanel" aria-labelledby="pills-tracking-tab">
                    Tracking
                </div>


            </div>

        </div>


    </div>

    <div class="modal fade" id="phoneNumberModal" tabindex="-1" role="dialog" aria-labelledby="phoneNumberModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="phoneNumberModalLabel"><i class="far fa-comment-dots"></i> SMS</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <span class="badge badge-primary"><h4>SMS Template</h4></span>

                    <form>
                        <div class="form-group">
                            <label for="SendSMS">Phone number</label>
                            <select class="form-control form-control-sm" id="SendSMS" required>
                                <option>{{ client.phoneNumber }}</option>
                                {% if(client.altNumber) %}
                                    <option>{{ client.altNumber }}</option>
                                {% endif %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="InsurerSMSTemplate">Insurer</label>
                            <select class="form-control form-control-sm" id="InsurerSMSTemplate" required>
                                <option>Aegon</option>
                                <option>Legal and General</option>
                                <option>Vitality</option>
                                <option>Royal London</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="SMSTemplate">SMS Templates</label>
                            <select class="form-control form-control-sm" id="SMSTemplate" required>
                                <option>Welcome</option>
                                <option>Contact us</option>
                                <option>Direct Debit</option>
                                <option>Reminder</option>
                            </select>
                        </div>

                        <div class="form-row text-center">
                            <div class="col-12">
                        <button type="button" class="btn btn-outline-success">Send SMS</button>
                            </div>
                        </div>

                    </form>

                    <br>

                    <form>

                        <span class="badge badge-primary"><h4>Custom SMS</h4></span>

                        <div class="form-group">
                            <label for="SendCustomSMS">Phone number</label>
                            <select class="form-control form-control-sm" id="SendCustomSMS" required>
                                <option>{{ client.phoneNumber }}</option>
                                {% if(client.altNumber) %}
                                    <option>{{ client.altNumber }}</option>
                                {% endif %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="SendCustomSMSMSG"></label>
                            <textarea class="form-control" id="SendCustomSMSMSG" rows="3" required></textarea>
                        </div>

                        <div class="form-row text-center">
                            <div class="col-12">
                        <button type="button" class="btn btn-outline-success">Send custom SMS</button>
                            </div>
                        </div>

                    </form>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="emailModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="emailModalLabel"><i class="fas fa-envelope"></i> Emails</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <span class="badge badge-primary"><h4>Email Template</h4></span>

                    <form>
                        <div class="form-group">
                            <label for="SendEmail">Email</label>
                            <select class="form-control form-control-sm" id="SendEmail" required>
                                <option>{{ client.email }}</option>
                                {% if(client.email2) %}
                                    <option>{{ client.email2 }}</option>
                                {% endif %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="InsurerEmailTemplate">Insurer</label>
                            <select class="form-control form-control-sm" id="InsurerEmailTemplate" required>
                                <option>Aegon</option>
                                <option>Legal and General</option>
                                <option>Vitality</option>
                                <option>Royal London</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="EmailTemplate">Email Templates</label>
                            <select class="form-control form-control-sm" id="EmailTemplate" required>
                                <option>Welcome</option>
                                <option>Keyfacts</option>
                                <option>Contact us</option>
                                <option>Direct Debit</option>
                                <option>Reminder</option>
                            </select>
                        </div>

                        <div class="form-row text-center">
                            <div class="col-12">
                                <button type="button" class="btn btn-outline-success">Send Email</button>
                            </div>
                        </div>

                    </form>

                    <br>

                    <form>

                        <span class="badge badge-primary"><h4>Custom Email</h4></span>

                        <div class="form-group">
                            <label for="SendCustomEmail">Email</label>
                            <select class="form-control form-control-sm" id="SendCustomEmail" required>
                                <option>{{ client.email }}</option>
                                {% if(client.altNumber) %}
                                    <option>{{ client.email2 }}</option>
                                {% endif %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="SendCustomEmailMSG"></label>
                            <textarea class="form-control" id="SendCustomEmailMSG" rows="3" required></textarea>
                        </div>

                        <div class="form-row text-center">
                            <div class="col-12">
                                <button type="button" class="btn btn-outline-success">Send custom Email</button>
                            </div>
                        </div>

                    </form>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>



{% endblock %}